---
import Navbar from "../components/navbar.astro";
import Hero from "../sections/Hero.astro";
import CtaFreeConsulting from "../components/ctaFreeConsulting.astro";
import Layout from "../layouts/Layout.astro";
import { Services as LegalServices } from '../const/services.js'
import HeroS from "@sections/Hero_S.astro";
import DescriptionS from "@sections/Description_S.astro";

// improt Hero_S from '@sections/HeroS'

interface Props {
  LegalServices: {
    id: string;
    title: string;
    description: string;
    buttonText: string;
  }[];
}
---



<Layout title="Welcome to Astro.">
    
    <Navbar/>
    <HeroS 
        title="Derecho administrativo" 
        description="Somos una firma con 24 años de experiencia, expertos en abordar situaciones legales complejas con eficacia. Confía en nuestros abogados para una asesoría integral y cumplimiento normativo."
        buttonText="Contáctanos ahora"    
    />
    <DescriptionS/>
    

    <section class="py-32 flex items-center justify-center">
        <div class="mx-6 rounded-xl bg-primary bg-opacity-25 py-6 px-8 flex flex-col gap-10 max-w-screen-xl w-full md:gap-10">
            <h2 class="uppercase flex flex-col text-center text-2xl lg:text-4xl">Abogados en <strong class="text-[#2d2e3e]">derecho administrativo</strong></h2>
            <ol class="list-decimal ml-5 mb-20 grid md:grid-cols-3 md:justify-between md:place-items-center">
                <div class="">
                    <li>Juicios (SAT- IMSS - INFONAVIT - FINANZAS)</li>
                    <li>Juicios de Nulidad</li>
                </div>
                <div class="">
                    <li>Juicios de Amporo</li>
                    <li>Créditos fiscales</li>
                </div>
                <div class="">
                    <li>Devoluciones de IVA</li>
                    <li>Aclaraciones</li>
                </div>
            </ol>
        </div>
    </section>
    
    <section class="pb-32 py-28 flex items-center justify-center">
      <div class="mx-6 rounded-xl flex flex-col gap-10 max-w-screen-xl w-full md:gap-10">
        <h2 class="uppercase flex flex-col text-center text-2xl lg:text-4xl">
          <strong class="text-[#2d2e3e] text-center">Conoce todos nuestros</strong> 
          servicios legales
        </h2>
    
        <div class="w-full overflow-hidden flex justify-center items-center rounded-xl">
          <div class="flex snap-x snap-mandatory overflow-x-scroll relative rounded-xl scrollbar-hide first:ml-6 last:mr-6 md:grid md:grid-cols-2 md:gap-10 lg:grid-cols-3">
            {
              LegalServices.map((service, idx) => (
                <a 
                  href={`/services/${service.id.toLowerCase()}`}
                  class="block relative rounded-xl overflow-hidden
                    flex-shrink-0 w-[85%] snap-center mx-[2.5%] 
                    md:m-0 md:w-full md:transition-all md:duration-300 md:hover:shadow-xl"
                >
                  <div 
              
                    class="img__hero relative h-[20rem] md:h-80 group"
                  >
                    <div class="absolute inset-0 bg-black/40 transition-opacity duration-300 group-hover:bg-black/20" />
                    
                    {/* Mobile Layout */}
                    <div class="relative h-full w-full flex items-center justify-center md:hidden">
                      <div class="flex flex-col items-center justify-center w-full h-full">
                        <h3 
                          transition:name={`title-${service.id}`}
                          class="font-bold text-2xl text-center text-white uppercase transition-all duration-300 max-w-[280px]"
                        >
                          {service.title}
                        </h3>
                        
                        <div class="transition-all duration-300 flex flex-col items-center justify-center gap-2 text-white text-center px-4">
                          <p class="text-base line-clamp-2 mx-3 text-balance">
                            {service.description}
                          </p>
                          <button transition:name={`title-${service.id}button`} class="py-2 px-6 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20">
                            {service.buttonText}
                          </button>
                        </div>
                      </div>
                    </div>
    
                    {/* Desktop Layout */}
                    <div class="hidden md:flex relative h-full w-full items-center justify-center">
                      <div class="flex flex-col items-center justify-center w-full h-full">
                        <div class="transition-all flex flex-col items-center justify-center gap-0 px-4 text-white text-center">
                          <h3 
                            transition:name={`title-${service.id}`}
                            class="font-bold h-[64px] max-w-[170px] mt-2 text-2xl flex items-center justify-center text-white uppercase duration-[400ms] md:relative md:top-1/2 md:-translate-y-10 transition-all md:group-hover:translate-y-0 md:group-hover:top-0"
                          >
                            {service.title}
                          </h3>
                          
                          <div class="text-base max-w-full mt-3 transition-all duration-500 translate-y-48 md:opacity-0 md:group-hover:translate-y-0 md:group-hover:opacity-100">
                            <p>{service.description}</p>
                            <button transition:name={`title-${service.id}button`}  class="py-2 px-6 mt-4 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20">
                              {service.buttonText}
                            </button>   
                          </div>
                        </div>
                      </div>
                    </div>
    
                    {
                      idx + 1 === LegalServices.length && (
                        <div class="py-1 px-3 border-[1px] border-white/30 rounded-full text-white text-sm absolute top-3 right-3 backdrop-blur-3xl bg-black/30">
                          Último servicio
                        </div>
                      )
                    }
                  </div>
                </a>
              ))
            }
          </div>
        </div>
      </div>
    </section>
    

    <section class="mt-32 mb-0 bg-secondary text-white relative overflow-hidden">
        <div class="flex flex-col  gap-14 md:flex-row max-w-screen-xl mx-auto relative z-10">
            <aside class="flex m-0 flex-col justify-center items-start py-10 gap-8 md:py-44 w-full md:w-1/2 px-6 ">
                <h2 class="uppercase flex flex-col text-3xl lg:text-4xl">Accede a nuestra asesoría legal<strong class="text-primary"> Gratuita</strong></h2>
                <img src="/img_test.png" alt="" class="w-full object-cover md:hidden">
                <p class="max-w-[588px]">Te ayudamos a proteger tu patrimonio previniendo riesgos que podrían derivar en costosos juicios. Nos comprometemos a cuidar tus intereses de manera responsable y con total apego a la ley, garantizando tu tranquilidad y seguridad financiera.</p>
                <CtaFreeConsulting/>
            </aside>
        </div>
        <aside class="hidden md:block absolute top-0 right-0 w-[45%] h-full">
            <img src="/img_test.png" alt="" class="h-full w-full object-cover">
        </aside>
    </section>

  
   
	
</Layout>




<style>

    .img__hero {
        background-image: linear-gradient(180deg, #12121298 34%, #1c1c1c), url(/img_s.webp);
        background-size: cover;
        background-position: center;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }



    @keyframes service-enter {
    from {
      opacity: 0;
      transform: scale(0.95) translateY(10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  @keyframes service-exit {
    from {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
    to {
      opacity: 0;
      transform: scale(1.05) translateY(-10px);
    }
  }

  ::view-transition-old(service),
  ::view-transition-new(service) {
    animation: none;
    mix-blend-mode: normal;
    animation-duration: 0.4s;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  ::view-transition-old(service) {
    animation: service-exit forwards;
  }

  ::view-transition-new(service) {
    animation: service-enter forwards;
  }


</style>